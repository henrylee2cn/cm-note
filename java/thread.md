# 线程知识积累

------
## 1.死锁
根据操作系统中的定义：死锁是指在一组进程中的各个进程均占有不会释放的资源，但因互相申请被其他进程所站用不会释放的资源而处于的一种永久等待状态。
死锁的四个必要条件：
> 互斥条件(Mutual exclusion)：资源不能被共享，只能由一个进程使用。
> 请求与保持条件(Hold and wait)：已经得到资源的进程可以再次申请新的资源。
> 非剥夺条件(No pre-emption)：已经分配的资源不能从相应的进程中被强制地剥夺。
> 循环等待条件(Circular wait)：系统中若干进程组成环路，该环路中每个进程都在等待相邻进程正占用的资源。

------

------
2.指令重排
    在Java中看似顺序的代码在JVM中，可能会出现编译器或者CPU对这些操作指令进行了重新排序；
在特定情况下，指令重排将会给我们的程序带来不确定的结果.....
>    **比如:写后读  a = 1;b = a;  写一个变量之后，再读这个位置。**
    编译器将不会对存在数据依赖性的程序指令进行重排，这里的依赖性仅仅指单线程情况下的数据依赖性；
> 多线程并发情况下，此规则将失效。
**注意:**JDK1.5之后引入的volatile可以禁止指令重排

------